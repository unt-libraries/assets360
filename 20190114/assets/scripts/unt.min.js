!function(t,e){"use strict";if("IntersectionObserver"in t&&"IntersectionObserverEntry"in t&&"intersectionRatio"in t.IntersectionObserverEntry.prototype)"isIntersecting"in t.IntersectionObserverEntry.prototype||Object.defineProperty(t.IntersectionObserverEntry.prototype,"isIntersecting",{get:function(){return this.intersectionRatio>0}});else{var n=[];o.prototype.THROTTLE_TIMEOUT=100,o.prototype.POLL_INTERVAL=null,o.prototype.USE_MUTATION_OBSERVER=!0,o.prototype.observe=function(t){if(!this._observationTargets.some(function(e){return e.element==t})){if(!t||1!=t.nodeType)throw new Error("target must be an Element");this._registerInstance(),this._observationTargets.push({element:t,entry:null}),this._monitorIntersections(),this._checkForIntersections()}},o.prototype.unobserve=function(t){this._observationTargets=this._observationTargets.filter(function(e){return e.element!=t}),this._observationTargets.length||(this._unmonitorIntersections(),this._unregisterInstance())},o.prototype.disconnect=function(){this._observationTargets=[],this._unmonitorIntersections(),this._unregisterInstance()},o.prototype.takeRecords=function(){var t=this._queuedEntries.slice();return this._queuedEntries=[],t},o.prototype._initThresholds=function(t){var e=t||[0];return Array.isArray(e)||(e=[e]),e.sort().filter(function(t,e,n){if("number"!=typeof t||isNaN(t)||t<0||t>1)throw new Error("threshold must be a number between 0 and 1 inclusively");return t!==n[e-1]})},o.prototype._parseRootMargin=function(t){var e=(t||"0px").split(/\s+/).map(function(t){var e=/^(-?\d*\.?\d+)(px|%)$/.exec(t);if(!e)throw new Error("rootMargin must be specified in pixels or percent");return{value:parseFloat(e[1]),unit:e[2]}});return e[1]=e[1]||e[0],e[2]=e[2]||e[0],e[3]=e[3]||e[1],e},o.prototype._monitorIntersections=function(){this._monitoringIntersections||(this._monitoringIntersections=!0,this.POLL_INTERVAL?this._monitoringInterval=setInterval(this._checkForIntersections,this.POLL_INTERVAL):(r(t,"resize",this._checkForIntersections,!0),r(e,"scroll",this._checkForIntersections,!0),this.USE_MUTATION_OBSERVER&&"MutationObserver"in t&&(this._domObserver=new MutationObserver(this._checkForIntersections),this._domObserver.observe(e,{attributes:!0,childList:!0,characterData:!0,subtree:!0}))))},o.prototype._unmonitorIntersections=function(){this._monitoringIntersections&&(this._monitoringIntersections=!1,clearInterval(this._monitoringInterval),this._monitoringInterval=null,s(t,"resize",this._checkForIntersections,!0),s(e,"scroll",this._checkForIntersections,!0),this._domObserver&&(this._domObserver.disconnect(),this._domObserver=null))},o.prototype._checkForIntersections=function(){var e=this._rootIsInDom(),n=e?this._getRootRect():{top:0,bottom:0,left:0,right:0,width:0,height:0};this._observationTargets.forEach(function(o){var r=o.element,s=a(r),c=this._rootContainsTarget(r),l=o.entry,u=e&&c&&this._computeTargetAndRootIntersection(r,n),h=o.entry=new i({time:t.performance&&performance.now&&performance.now(),target:r,boundingClientRect:s,rootBounds:n,intersectionRect:u});l?e&&c?this._hasCrossedThreshold(l,h)&&this._queuedEntries.push(h):l&&l.isIntersecting&&this._queuedEntries.push(h):this._queuedEntries.push(h)},this),this._queuedEntries.length&&this._callback(this.takeRecords(),this)},o.prototype._computeTargetAndRootIntersection=function(n,i){if("none"!=t.getComputedStyle(n).display){for(var o,r,s,c,u,h,d,p,f=a(n),m=l(n),g=!1;!g;){var b=null,v=1==m.nodeType?t.getComputedStyle(m):{};if("none"==v.display)return;if(m==this.root||m==e?(g=!0,b=i):m!=e.body&&m!=e.documentElement&&"visible"!=v.overflow&&(b=a(m)),b&&(o=b,r=f,void 0,void 0,void 0,void 0,void 0,void 0,s=Math.max(o.top,r.top),c=Math.min(o.bottom,r.bottom),u=Math.max(o.left,r.left),h=Math.min(o.right,r.right),p=c-s,!(f=(d=h-u)>=0&&p>=0&&{top:s,bottom:c,left:u,right:h,width:d,height:p})))break;m=l(m)}return f}},o.prototype._getRootRect=function(){var t;if(this.root)t=a(this.root);else{var n=e.documentElement,i=e.body;t={top:0,left:0,right:n.clientWidth||i.clientWidth,width:n.clientWidth||i.clientWidth,bottom:n.clientHeight||i.clientHeight,height:n.clientHeight||i.clientHeight}}return this._expandRectByRootMargin(t)},o.prototype._expandRectByRootMargin=function(t){var e=this._rootMarginValues.map(function(e,n){return"px"==e.unit?e.value:e.value*(n%2?t.width:t.height)/100}),n={top:t.top-e[0],right:t.right+e[1],bottom:t.bottom+e[2],left:t.left-e[3]};return n.width=n.right-n.left,n.height=n.bottom-n.top,n},o.prototype._hasCrossedThreshold=function(t,e){var n=t&&t.isIntersecting?t.intersectionRatio||0:-1,i=e.isIntersecting?e.intersectionRatio||0:-1;if(n!==i)for(var o=0;o<this.thresholds.length;o++){var r=this.thresholds[o];if(r==n||r==i||r<n!=r<i)return!0}},o.prototype._rootIsInDom=function(){return!this.root||c(e,this.root)},o.prototype._rootContainsTarget=function(t){return c(this.root||e,t)},o.prototype._registerInstance=function(){n.indexOf(this)<0&&n.push(this)},o.prototype._unregisterInstance=function(){var t=n.indexOf(this);-1!=t&&n.splice(t,1)},t.IntersectionObserver=o,t.IntersectionObserverEntry=i}function i(t){this.time=t.time,this.target=t.target,this.rootBounds=t.rootBounds,this.boundingClientRect=t.boundingClientRect,this.intersectionRect=t.intersectionRect||{top:0,bottom:0,left:0,right:0,width:0,height:0},this.isIntersecting=!!t.intersectionRect;var e=this.boundingClientRect,n=e.width*e.height,i=this.intersectionRect,o=i.width*i.height;this.intersectionRatio=n?o/n:this.isIntersecting?1:0}function o(t,e){var n,i,o,r=e||{};if("function"!=typeof t)throw new Error("callback must be a function");if(r.root&&1!=r.root.nodeType)throw new Error("root must be an Element");this._checkForIntersections=(n=this._checkForIntersections.bind(this),i=this.THROTTLE_TIMEOUT,o=null,function(){o||(o=setTimeout(function(){n(),o=null},i))}),this._callback=t,this._observationTargets=[],this._queuedEntries=[],this._rootMarginValues=this._parseRootMargin(r.rootMargin),this.thresholds=this._initThresholds(r.threshold),this.root=r.root||null,this.rootMargin=this._rootMarginValues.map(function(t){return t.value+t.unit}).join(" ")}function r(t,e,n,i){"function"==typeof t.addEventListener?t.addEventListener(e,n,i||!1):"function"==typeof t.attachEvent&&t.attachEvent("on"+e,n)}function s(t,e,n,i){"function"==typeof t.removeEventListener?t.removeEventListener(e,n,i||!1):"function"==typeof t.detatchEvent&&t.detatchEvent("on"+e,n)}function a(t){var e;try{e=t.getBoundingClientRect()}catch(t){}return e?(e.width&&e.height||(e={top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.right-e.left,height:e.bottom-e.top}),e):{top:0,bottom:0,left:0,right:0,width:0,height:0}}function c(t,e){for(var n=e;n;){if(n==t)return!0;n=l(n)}return!1}function l(t){var e=t.parentNode;return e&&11==e.nodeType&&e.host?e.host:e}}(window,document),function(t){t.expr.pseudos.externalLink=function(t){return""!==t.href&&t.hostname!=location.hostname&&("http:"==t.protocol||"https:"==t.protocol)},t.expr.pseudos.internalLink=function(t){return t.hostname==location.hostname&&("http:"==t.protocol||"https:"==t.protocol)},t.expr.pseudos.emailLink=function(t){return"mailto:"===t.protocol},t.expr.pseudos.telephoneLink=function(t){return"tel:"===t.protocol},t.expr.pseudos.imageLink=function(e){return t(this).attr("href").match(/\.(jpg|jpeg|png|svg|gif|webp|tif{1,2}|ai|)/i)}}(jQuery),$(document).ready(function(){$('[data-toggle="tooltip"]').tooltip({container:"body"}),$('[data-toggle="popover"]').popover({container:"body"});$("body");var t=$("#head"),e=($("#scrolled-header"),$("#to-top")),n=$("#unt-banner-img"),i=$("#unt-banner-lettermark"),o=document.querySelector("#primary-navigation");if(new IntersectionObserver(function(o,r){o[0].isIntersecting?(t.removeClass("scrolled"),n.removeClass("d-none"),i.addClass("d-none"),e.fadeOut()):(t.addClass("scrolled"),n.addClass("d-none"),i.removeClass("d-none"),e.fadeIn())},{threshold:[0,1]}).observe(o),$("body.home").length){var r=$("#v-pills-tab"),s=r.find("span.badge"),a=$("#tab-cookie-nofitication");if(r.find("a").on("click",function(t){t.preventDefault();var e=$(this);e.tab("show"),s.hide(),e.find("span.badge").show()}),s.tooltip({container:"body",placement:"top",title:"Make this your default search"}),s.on("click",function(){$(this);var t=$(this).data("value");a.show(),s.removeClass("text-white"),$(this).addClass("text-white"),localStorage.setItem("untlibrarysearchtab",t),window.setTimeout(function(){a.fadeTo(500,0).slideUp(500,function(){$(this).css("opacity",1)})},5e3)}),localStorage.getItem("untlibrarysearchtab")){var c=localStorage.getItem("untlibrarysearchtab");r.find("[data-value="+c+"]").closest("a").tab("show")}else r.find("a").first().tab("show");$("#v-pills-tab a").on("shown.bs.tab",function(t){$("#v-pills-tabContent .active").find('input[type="text"]:first').focus()});var l,u,h,d=$("#summon-discipline"),p=$("#search-articles-form"),f=$("#passThisSearchtype"),m=$("#searchscope"),g=$("#search-catalog-form"),b=$("#invert-author"),v=$("#searcharg");if(localStorage.getItem("summondiscipline")&&(l=localStorage.getItem("summondiscipline"),d.val(l),p.data("ga-label",l)),d.on("change",function(){var t=$(this).val()||"Any Discipline";p.data("ga-label",t),localStorage.setItem("summondiscipline",t)}),localStorage.getItem("catalogsearchtype")){u=localStorage.getItem("catalogsearchtype"),f.val(u);var y=m.val();g.data("ga-label",u+y),"a"===u?b.show():b.hide()}if(localStorage.getItem("catalogsearchscope")){h=localStorage.getItem("catalogsearchscope"),m.val(h);var w=f.val();g.data("ga-label",w+h)}f.on("change",function(){var t=$(this).val();g.data("ga-label",t+m.val()),localStorage.setItem("catalogsearchtype",t),"a"===t?b.show():b.hide()}),m.on("change",function(){var t=$(this).val();g.data("ga-label",f.val()+t),localStorage.setItem("catalogsearchscope",t)}),b.on("click",function(){var t=v.val().trim().split(" "),e=t.pop(),n=t.join(" ");v.val(e+", "+n)})}if($("#search-drawer").on("shown.bs.modal",function(){$("#drawer-q").focus()}),$("#to-top").on("click",function(t){t.preventDefault(),$("body,html").animate({scrollTop:0},800),history.pushState("",document.title,window.location.pathname+window.location.search)}),$("#feature-wrapper").on("slide.bs.carousel",function(){$(this).find(".active a").first().focus()}),window.anchors&&anchors.elements.length){var k,I,T,E=$("#page-toc"),R="";$(anchors.elements).each(function(){k=$(this),I=k.text(),T="#"+k.attr("id"),tocLink=window.location.pathname+T,R+='<li class="toc-entry toc-h2"><a data-ga-category="link - TOC" data-ga-action="page" data-ga-label="'+tocLink+'" href="'+T+'">'+I+"</a></li>"}),$(E).append(R)}else $("#page-toc").hide();function x(t,e){var n=!1;function i(){n||(n=!0,t())}return setTimeout(i,e||1e3),i}$("form.jump").on("submit",function(t){t.preventDefault();var e=$(this).find("select").find("option:selected").val();window.location.replace(e)}),$(".btn.clipboard-trigger").length&&new ClipboardJS(".btn.clipboard-trigger");for(var j=document.querySelectorAll("form.search"),C=0;C<j.length;C++)j[C].addEventListener("submit",function(t){t.preventDefault();var e=$(this),n=e.data("ga-category")||"form - search - untagged",i=e.find("input.query").val()||"empty",o=e.data("ga-label")||document.location.href,r=_.size(_.words(i))||0;ga("send","event",n,i,o,r,{hitCallback:x(function(){e.submit()})})});function O(t){window.location.href=t.url}function S(t,e){window.location.href=e+t.id}var L=function(t=0){return{highlight:!0,minLength:t,classNames:{highlight:"font-weight-bold",dataset:"tt-dataset list-group",menu:"tt-menu small text-dark scrollable",cursor:"tt-cursor"}}},q=new Bloodhound({datumTokenizer:Bloodhound.tokenizers.obj.whitespace("question","topics"),queryTokenizer:Bloodhound.tokenizers.whitespace,identify:function(t){return t.question},remote:{url:"//api2.libanswers.com/1.0/search/%QUERY?iid=1758&callback=faqs",wildcard:"%QUERY",prepare:function(t,e){return e.dataType="jsonp",e.url=e.url.replace("%QUERY",t),e},transform:function(t){return $.map(t.data.search.results,function(t){var e=$.map(t.topics,function(t,e){return[t]});return{id:t.id,question:t.question,topics:e.join(", "),url:t.url}})}}});$("#faq-typeahead").typeahead(L(1),{name:"faqList",source:q,display:"question",limit:200,templates:{suggestion:function(t){return'<div class="list-group-item list-group-item-action">'+t.question+"</div>"},header:function(){return'<div class="list-group-item list-group-item-info">Showing FAQs that contain one or more of your keywords. Don\'t see a relevant question? Refine your terms or <a class="text-dark font-weight-bold" href="/ask-us/">Ask Us</a>.</div>'},notFound:function(){return'<div class="list-group-item list-group-item-dark">Don\'t see what you\'re looking for?. <a class="text-dark font-weight-bold" href="/ask-us/">Ask Us</a> and we\'ll respond with 24-48 hours.</div>'}}}).on("typeahead:selected",function(t,e){ga("send","event","link - typeahead","faq",e.question,{hitCallback:x(function(){O(e)})})});var z=new Bloodhound({datumTokenizer:Bloodhound.tokenizers.obj.whitespace("name","job_title","liaison_notes","academic_units_string","subjects"),queryTokenizer:Bloodhound.tokenizers.whitespace,matchAnyQueryToken:!0,prefetch:"https://library.unt.edu/assets/data/subject-librarians.json"}),B=new Bloodhound({datumTokenizer:Bloodhound.tokenizers.obj.whitespace("name","description"),queryTokenizer:Bloodhound.tokenizers.whitespace,identify:function(t){return t.name},prefetch:{cache:!0,url:"//lgapi-us.libapps.com/1.1/assets?site_id=702&key=9a0320695e007513e3f56d6f5f9e2159&asset_types=10",transform:function(t){return $.map(t,function(t){var e=$("<div>"+t.description+"</div>").text().replace(/"/g,"'");return{id:t.id,name:t.name,description:e,url:"https://libproxy.library.unt.edu/login?url="+t.url}})}}}),M=new Bloodhound({datumTokenizer:Bloodhound.tokenizers.obj.whitespace("name","description","subjects","type_machine"),queryTokenizer:Bloodhound.tokenizers.whitespace,prefetch:{url:"//lgapi-us.libapps.com/1.1/guides/?site_id=702&key=9a0320695e007513e3f56d6f5f9e2159&status[]=1&sort_by=name&expand=owner,subjects",cache:!0,transform:function(t){return $.map(t,function(t){var e=$.map(t.subjects,function(t,e){return[t.name]});return{id:t.id,name:t.name,description:t.description,url:t.friendly_url||t.url,type_label:t.type_label,type_machine:t.type_label.toLowerCase().replace(" ","-").concat("-",t.type_id),subjects:e.join(", ")}})}}}),A=new Bloodhound({datumTokenizer:Bloodhound.tokenizers.obj.whitespace("name"),queryTokenizer:Bloodhound.tokenizers.whitespace,prefetch:{url:"//lgapi-us.libapps.com/1.1/subjects?site_id=702&key=9a0320695e007513e3f56d6f5f9e2159",cache:!0,transform:function(t){return $.map(t,function(t){return{id:t.id,name:t.name}})}}});function F(t,e){""===t?e(A.index.all()):A.search(t,e)}$("input.subject-typeahead").typeahead(L(0),{name:"allSubjects",source:F,display:"name",limit:200,templates:{suggestion:function(t){return'<div class="list-group-item d-flex justify-content-between align-items-center"><div>'+t.name+'</div><i class="fas fa-external-link-alt"></i></div>'}}}).on("typeahead:selected",function(t,e){ga("send","event","link - typeahead","subjects",e.name,{hitCallback:x(function(){S(e,"//guides.library.unt.edu/sb.php?subject_id=")})})}),$("input.database-subject-typeahead").typeahead(L(0),{name:"allSubjects",source:F,display:"name",limit:200,templates:{suggestion:function(t){return'<div class="list-group-item d-flex justify-content-between align-items-center"><div>'+t.name+'</div><i class="fas fa-external-link-alt"></i></div>'}}}).on("typeahead:selected",function(t,e){ga("send","event","link - typeahead","subjects - databases",e.name,{hitCallback:x(function(){S(e,"//guides.library.unt.edu/az.php?s=")})})}),$("input.course-typeahead").typeahead(L(0),{name:"coursesSource",source:function(t,e){M.search(t+" course-guide-2",e)},display:"name",limit:250,templates:{suggestion:function(t){return'<div class="list-group-item d-flex justify-content-between align-items-center"><div>'+t.name+'</div><i class="fas fa-external-link-alt"></i></div>'}}}).on("typeahead:selected",function(t,e){ga("send","event","link - typeahead","courses",e.name,{hitCallback:x(function(){O(e)})})}),$("#student-helper").typeahead(L(0),{name:"librarians",source:z,display:"name",templates:{suggestion:function(t){return'<div class="list-group-item list-group-item-action d-flex align-items-center"><div><h5 class="h6">'+t.name+" <small> &mdash; "+t.job_title+"</small></h5><strong>Phone: </strong>"+t.phone+"<br /><strong>Serving: </strong>"+t.academic_units_served+'</div><span class="ml-auto badge badge-dark">subject librarian</span></div></div>'}}},{name:"allLibGuides",source:M,display:"name",limit:20,templates:{suggestion:function(t){var e;return e="Course Guide"===t.type_label?"info":"success",'<div class="list-group-item list-group-item-action d-flex align-items-center"><div>'+t.name+'</div><span class="ml-auto badge badge-'+e+'">'+t.type_label+"</span></div>"}}}).on("typeahead:selected",function(t,e){ga("send","event","link - typeahead","student helper - "+e.type_label,e.name,{hitCallback:x(function(){O(e)})})}),$("input.az-typeahead").typeahead(L(0),{name:"azList",source:function(t,e){""===t?e(B.get(["Academic Search Complete","EBSCOhost","JSTOR","Nexis Uni","ScienceDirect","Web of Science"])):B.search(t,e)},limit:50,display:"name",templates:{suggestion:function(t){return'<div class="list-group-item d-flex justify-content-between align-items-center"><div>'+t.name+'</div><i class="fas fa-external-link-alt"></i></div>'}}}).on("focusin",function(){$(this).attr("placeholder","try these best bets or search for your own.")}).on("focusout",function(){$(this).attr("placeholder","type for suggestions")}).on("typeahead:selected",function(t,e){ga("send","event","link - typeahead","database",e.name,{hitCallback:x(function(){O(e)})})})});